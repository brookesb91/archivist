extends _layout

block append styles
  link(rel="stylesheet", href="styles/archive.css")

block append content
  .archive-page
      .boards
        a(href="/" class=(!query.board ? 'active' : '')).board All
        each board in boards
          a(href="?board=" + board class=(query.board === board ? 'active' : '')).board=board
      .threads
        each thread in threads.items
          - var post = thread.posts[0];
          .thread
            a(href="/archive/" + thread.board + "/" + thread.thread)
              img.thread-image(height=post.tn_h / 2, width=post.tn_w / 2 src="https://i.4cdn.org/" + thread.board + "/" + post.tim + "s.jpg", alt="").thumbnail
            .thread-name=post.name
            if post.sub
              .thread-subject=post.sub
            if post.com
              .thread-content.no-scrollbars!=post.com
            .thread-meta
              .thread-replies [R: #{post.replies}]
              .thread-images [I: #{post.images}]
              .thread-uniques [U: #{post.unique_ips}]
      .pagination
        .pages 
          if pagination.previous
            a(href="?page=" + pagination.previous + "&limit=" + pagination.limit).page="[Previous]"
          each page in pagination.pages
            a(href="?page=" + page + "&limit=" + pagination.limit class=(pagination.current === page ? 'current' : '')).page="[" + page + "]"
          if pagination.next
            a(href="?page=" + pagination.next + "&limit=" + pagination.limit).page="[Next]"